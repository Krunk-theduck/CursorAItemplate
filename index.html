<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Racers</title>
    <link rel="stylesheet" href="src/styles.css">
    <link rel="stylesheet" href="src/styles/garage.css">
    <link rel="stylesheet" href="src/styles/race.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="cyber-theme">
    <div id="auth-container" class="container">
        <div class="neon-card">
            <h1 class="neon-text">NEON RACERS</h1>
            
            <!-- Auth State UI -->
            <div id="auth-ui">
                <div id="login-section">
                    <input type="email" id="email" placeholder="Email" class="neon-input">
                    <input type="password" id="password" placeholder="Password" class="neon-input">
                    <button id="login-btn" class="neon-button">Login</button>
                    <button id="google-login" class="neon-button google">
                        <img src="src/assets/google-icon.png" alt="Google" />
                        <span>Sign in with Google</span>
                    </button>
                </div>
                <p class="switch-text">
                    New to Neon Racers? 
                    <span id="toggle-auth" class="neon-link">Create Account</span>
                </p>
            </div>

            <!-- Loading Spinner -->
            <div id="loading-spinner" class="hidden">
                <div class="neon-spinner"></div>
            </div>
        </div>
    </div>

    <!-- Game Container (Hidden initially) -->
    <div id="game-container" class="hidden">
        <nav class="cyber-nav">
            <div class="logo">NEON RACERS</div>
            <div class="nav-links">
                <button class="nav-btn active" data-section="garage">Garage</button>
                <button class="nav-btn" data-section="race">Race</button>
                <button class="nav-btn" data-section="shop">Shop</button>
                <button class="nav-btn" data-section="profile">Profile</button>
            </div>
            <div class="user-controls">
                <span id="user-credits" class="credits">â‚¢ 10,000</span>
                <button id="logout-btn" class="neon-button small">Logout</button>
            </div>
        </nav>

        <main class="dashboard-content">
            <!-- Garage Section -->
            <section id="garage-section" class="section">
                <div id="garage-container"></div>
            </section>

            <!-- Race Section -->
            <section id="race-section" class="dashboard-section hidden">
                <h2 class="section-title">Race Events</h2>
                
                <!-- Race Room Controls -->
                <div class="race-controls">
                    <button id="create-public-race" class="neon-button">Create Public Race</button>
                    <button id="create-private-race" class="neon-button">Create Private Race</button>
                </div>

                <!-- Available Races -->
                <div class="race-grid">
                    <h3>Available Races</h3>
                    <div id="available-races" class="race-list">
                        <!-- Race rooms will be dynamically added here -->
                    </div>
                </div>

                <!-- Race Room Template -->
                <template id="race-room-template">
                    <div class="race-room">
                        <div class="room-info">
                            <h4 class="host-name">Host Name</h4>
                            <span class="player-count">1/4</span>
                            <span class="room-status">Waiting</span>
                        </div>
                        <button class="join-race neon-button small">Join Race</button>
                    </div>
                </template>
            </section>

            <!-- Shop Section -->
            <section id="shop-section" class="dashboard-section hidden">
                <h2 class="section-title">Car Shop</h2>
                <div class="shop-grid">
                    <!-- Shop items will be added here -->
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile-section" class="dashboard-section hidden">
                <h2 class="section-title">Driver Profile</h2>
                <div class="profile-content">
                    <!-- Profile content will be added here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Core Scripts -->
    <script src="src/config/firebase-config.js"></script>
    <script src="src/auth/auth-manager.js"></script>

    <!-- Car System Scripts -->
    <script src="src/cars/car-registry.js"></script>
    <script src="src/cars/car.js"></script>
    <script src="src/cars/garage-manager.js"></script>

    <!-- UI Components -->
    <script src="src/components/garage-ui.js"></script>

    <!-- Dashboard -->
    <script src="src/dashboard/dashboard-manager.js"></script>
    <script src="src/racing/race-ui-manager.js"></script>
    <script src="src/racing/race-room-manager.js"></script>
</body>
</html>

